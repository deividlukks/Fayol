# ============================================
# FAYOL - PRODUCTION ENVIRONMENT VARIABLES
# ============================================
# Copie este arquivo para .env.production e ajuste os valores

# ============================================
# AMBIENTE
# ============================================
NODE_ENV=production
PORT=3000

# ============================================
# DATABASE (PostgreSQL)
# ============================================
# Formato: postgresql://usuario:senha@host:porta/database
DATABASE_URL="postgresql://fayol_user:SENHA_FORTE_AQUI@localhost:5432/fayol_production?schema=public"

# Configurações do PostgreSQL (para Docker)
POSTGRES_USER="fayol_user"
POSTGRES_PASSWORD="SENHA_FORTE_AQUI"
POSTGRES_DB="fayol_production"
POSTGRES_PORT="5432"

# ============================================
# JWT (JSON Web Tokens)
# ============================================
# IMPORTANTE: Gere chaves fortes e únicas!
# Dica: use https://randomkeygen.com/ ou:
# node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"

JWT_SECRET="SUA_CHAVE_SECRETA_SUPER_SEGURA_DE_PELO_MENOS_32_CARACTERES"
JWT_EXPIRES_IN="1h"
JWT_REFRESH_SECRET="SUA_CHAVE_REFRESH_SUPER_SEGURA_DIFERENTE_DA_ANTERIOR"
JWT_REFRESH_EXPIRES_IN="7d"

# ============================================
# PORTAS DOS SERVIÇOS (para Docker)
# ============================================
BACKEND_PORT="3000"
ADMIN_PORT="3001"
WHATSAPP_BOT_PORT="3002"
AI_SERVICE_PORT="8000"

# ============================================
# API URLs
# ============================================
API_BASE_URL="https://api.seudominio.com"
ADMIN_PANEL_URL="https://admin.seudominio.com"
AI_SERVICE_URL="http://ai-service:8000"
WEBAPP_URL="https://seudominio.com"
NEXT_PUBLIC_API_URL="http://backend:3000"

# ============================================
# CORS (Cross-Origin Resource Sharing)
# ============================================
# Adicione todas as URLs que devem ter permissão de acesso
CORS_ORIGIN="https://admin.seudominio.com,https://seudominio.com,https://app.seudominio.com"

# ============================================
# REDIS (Cache & Session Store)
# ============================================
REDIS_HOST="localhost"
REDIS_PORT="6379"
REDIS_PASSWORD="SUA_SENHA_REDIS_FORTE_AQUI"
REDIS_DB="0"

# Alternativa: Redis Cloud/Upstash
# REDIS_HOST="redis-12345.c123.us-east-1-1.ec2.cloud.redislabs.com"
# REDIS_PORT="12345"
# REDIS_PASSWORD="sua-senha-redis-cloud"
# REDIS_TLS="true"

# ============================================
# TELEGRAM BOT
# ============================================
# Obtenha o token com @BotFather no Telegram
TELEGRAM_BOT_TOKEN="1234567890:ABCdefGHIjklMNOpqrsTUVwxyz"
TELEGRAM_WEBHOOK_URL="https://api.seudominio.com/telegram/webhook"

# ============================================
# EMAIL / SMTP
# ============================================
# Para notificações, recuperação de senha, etc.
SMTP_HOST="smtp.seudominio.com"
SMTP_PORT="587"
SMTP_SECURE="false"
SMTP_USER="noreply@seudominio.com"
SMTP_PASS="SENHA_EMAIL_AQUI"
EMAIL_FROM="Fayol <noreply@seudominio.com>"

# Alternativa: Gmail
# SMTP_HOST="smtp.gmail.com"
# SMTP_PORT="587"
# SMTP_SECURE="false"
# SMTP_USER="seu-email@gmail.com"
# SMTP_PASS="sua-senha-de-app-do-gmail"

# Alternativa: SendGrid
# SMTP_HOST="smtp.sendgrid.net"
# SMTP_PORT="587"
# SMTP_USER="apikey"
# SMTP_PASS="SG.sua-api-key-aqui"

# ============================================
# WHATSAPP (Baileys/Twilio)
# ============================================
# Se usar Baileys (self-hosted)
WHATSAPP_SESSION_PATH="./sessions"
WHATSAPP_AUTO_READ="false"
WHATSAPP_WEBHOOK_URL="https://api.seudominio.com/whatsapp/webhook"

# Se usar Twilio
USE_TWILIO="false"
TWILIO_ACCOUNT_SID="ACxxxxxxxxxxxxxxxxxxxxx"
TWILIO_AUTH_TOKEN="your-auth-token"
TWILIO_PHONE_NUMBER="+55119999999999"

# ============================================
# LIMITES E SEGURANÇA
# ============================================
# Rate Limiting (requisições por minuto)
RATE_LIMIT_TTL="60"
RATE_LIMIT_MAX="100"

# Upload de arquivos (em bytes: 5MB = 5242880)
MAX_FILE_SIZE="5242880"

# Sessão
SESSION_SECRET="SUA_CHAVE_DE_SESSAO_SUPER_SEGURA_AQUI"
SESSION_MAX_AGE="86400000"

# ============================================
# LOGS
# ============================================
LOG_LEVEL="info"
LOG_DIR="./logs"
LOG_MAX_FILES="7"
LOG_MAX_SIZE="10m"

# ============================================
# AI SERVICE (Python/FastAPI)
# ============================================
AI_SERVICE_HOST="0.0.0.0"
AI_SERVICE_PORT="8000"
AI_MODEL_PATH="./models"

# OpenAI API (para análise de gastos com IA)
OPENAI_API_KEY="sk-xxxxxxxxxxxxxxxxxxxxxxxxxx"

# Gemini API (alternativa ao OpenAI - opcional)
GEMINI_API_KEY="AIzaSyxxxxxxxxxxxxxxxxxxxxxxxxxx"

# ============================================
# STORAGE (Arquivos)
# ============================================
# Local storage
STORAGE_TYPE="local"
STORAGE_LOCAL_PATH="./uploads"

# AWS S3 (opcional)
# STORAGE_TYPE="s3"
# AWS_ACCESS_KEY_ID="AKIAIOSFODNN7EXAMPLE"
# AWS_SECRET_ACCESS_KEY="wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"
# AWS_REGION="us-east-1"
# AWS_S3_BUCKET="fayol-production"

# ============================================
# MONITORING (opcional)
# ============================================
# Sentry (Error Tracking)
# SENTRY_DSN="https://examplePublicKey@o0.ingest.sentry.io/0"

# NewRelic (APM)
# NEW_RELIC_LICENSE_KEY="sua-license-key"
# NEW_RELIC_APP_NAME="Fayol Production"

# Google Analytics
# GA_TRACKING_ID="G-XXXXXXXXXX"

# ============================================
# FEATURES FLAGS
# ============================================
ENABLE_SWAGGER="false"
ENABLE_GRAPHQL="false"
ENABLE_TELEGRAM_BOT="true"
ENABLE_WHATSAPP_BOT="true"
ENABLE_EMAIL_NOTIFICATIONS="true"

# ============================================
# CRON JOBS
# ============================================
ENABLE_CRON_JOBS="true"
CRON_BACKUP_SCHEDULE="0 3 * * *"
CRON_REPORT_SCHEDULE="0 8 * * MON"

# ============================================
# EXTERNAL APIs (opcional)
# ============================================
# Banco Central do Brasil (cotações)
# BCB_API_URL="https://api.bcb.gov.br"

# ViaCEP (busca de endereços)
# VIACEP_API_URL="https://viacep.com.br/ws"

# ============================================
# TIMEOUTS
# ============================================
HTTP_TIMEOUT="30000"
DATABASE_POOL_MAX="10"
DATABASE_POOL_MIN="2"

# ============================================
# TIMEZONE
# ============================================
TZ="America/Sao_Paulo"

# ============================================
# OBSERVAÇÕES
# ============================================
# 1. NUNCA commite este arquivo com valores reais no Git!
# 2. Use senhas fortes (mínimo 16 caracteres, mistura de letras, números e símbolos)
# 3. Rotacione as chaves JWT regularmente (a cada 3-6 meses)
# 4. Mantenha backups das variáveis de ambiente em local seguro
# 5. Use um gerenciador de senhas para armazenar credenciais
